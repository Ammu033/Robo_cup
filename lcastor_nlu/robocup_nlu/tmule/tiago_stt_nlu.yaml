---
session: stt_nlu
init_cmd: |
  #exec /bin/bash
  cd @TMULE_CONFIG_DIR@ || true
  set -o pipefail
  function export_default () {
    var_name="$1"
    var_default="$2"
    eval $var_name="${!var_name:-$var_default}"
    export $var_name
    echo "  $0 -> $var_name=${!var_name}"
  }
  

  ##############################################################################################
  # Source ROS
  export_default CATKIN_WORKSPACE "$HOME/ros_ws"
  #export_default CONDA_VIRT_ENV "lcastor_nlu2" # name of the virtual environment with the necessary packages
  source $CATKIN_WORKSPACE/devel/setup.bash
  #########################################################################################
  #Set up ROS MASTER AND ROS IP
  #export_default ROS_IP "192.168.1.100" #laptop IP address
  #export_default ROS_MASTER "192.168.1.29" #tiago IP address, as MASTER
  #export ROS_MASTER_URI="http://$ROS_MASTER:11311/"
  #export ROS_IP=$ROS_IP  
  
  #export_default ROS_IP "10.68.0.129" #laptop IP address
  #export_default ROS_MASTER "10.68.0.1" #tiago IP address, as MASTER
  #export ROS_MASTER_URI="http://$ROS_MASTER:11311/"
  #export ROS_IP=$ROS_IP  
  
 
  #############################################################################################

windows:
- name: tiago_bringup
  panes:
  - sleep 2 
  # here is where the Tiago has to be initialized
  cleck: "rostopic list"
- name: stt
  panes:
  - sleep 2; roslaunch robocup_nlp stt.launch 
- name: nlu
  panes:
  - sleep 2; roscd robocup_nlp/rasa ; rasa run
  - sleep 2; roscd robocup_nlp/rasa ; rasa run actions
  - sleep 25 ; rosrun robocup_nlp rasa_ros_bridge.py 
#- name: tts
#  panes:
#  - sleep 5 ; rosrun robocup_nlp tiago_tts.py
- name: conversation
  panes:
  - rostopic echo /user_speech
  - rostopic echo /robot_speech
  - rostopic echo /nlp/trigger
#############################################################################################

